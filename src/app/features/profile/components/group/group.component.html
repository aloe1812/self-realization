<article [ngClass]="type">
  <mat-toolbar class="group-title">
    <img [src]="icon" alt="">
    <span>{{ title }}</span>
    <button
      mat-icon-button
      (click)="toggleDetails()"
    >
      <mat-icon [@toggle]="detailsState">expand_more</mat-icon>
    </button>
  </mat-toolbar>
  <div class="main">
    <div class="details" [@dropdown]="detailsState">{{ description }}</div>
    <div class="goals">
      <app-goal
        *ngFor="let goal of goals; trackBy: trackByFn"
        [goal]="goal"
        (updateGoal)="onUpdateGoal($event)"
        (deleteGoal)="onDeleteGoal($event)"
      ></app-goal>
      <app-goal
        *ngIf="!!newGoal"
        [goal]="newGoal"
        (updateGoal)="onCreateGoal($event)"
        (deleteGoal)="onRemoveGoal()"
      ></app-goal>
      <div>
        <button
          class="add-goal-button"
          mat-flat-button color="primary"
          [disabled]="!!addGoalStatus"
          (click)="triggerAddGoal()"
        >Add Goal</button>
      </div>
    </div>
  </div>
</article>
